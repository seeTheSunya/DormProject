<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Vue.js, Tailwind, Axios -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    
    <!-- Quill CSS -->
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    
    <title>ê¸€ ìƒì„¸</title>
    <style>
        .animate-fade-in-up { animation: fadeInUp 0.3s ease-out; }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        
        /* ìƒì„¸ í˜ì´ì§€ì—ì„œ ì´ë¯¸ì§€ê°€ ë„ˆë¬´ í¬ë©´ í™”ë©´ ë°–ìœ¼ë¡œ ë‚˜ê°€ëŠ” ê²ƒ ë°©ì§€ */
        .ql-editor img {
            max-width: 100%;
            height: auto;
        }
        /* ë³´ê¸° ì „ìš©ì´ë¯€ë¡œ í…Œë‘ë¦¬ ì œê±° ë° íŒ¨ë”© ì¡°ì • */
        .ql-container.ql-snow { border: none; }
        .ql-editor { padding: 0; font-family: inherit; font-size: 16px; }
        
        /* â˜…â˜…â˜… í…Œë§ˆë³„ ìƒ‰ìƒ ì •ì˜ â˜…â˜…â˜… */
        body.theme-light { background-color: #f3f4f6; color: #1f2937; }
        body.theme-dark { background-color: #111827; color: #e5e7eb; }
        body.theme-dark .bg-white { background-color: #1f2937 !important; border-color: #374151; color: #e5e7eb; }
        body.theme-dark .text-gray-800 { color: #f3f4f6 !important; }
        body.theme-dark .text-gray-600 { color: #9ca3af !important; }
        body.theme-dark header { background-color: #1f2937 !important; border-bottom: 1px solid #374151; }
        body.theme-dark .bg-gray-50 { background-color: #1f2937 !important; } /* ëŒ“ê¸€ ë°°ê²½ */
        body.theme-dark .border-gray-200 { border-color: #374151 !important; } /* ëŒ“ê¸€ í…Œë‘ë¦¬ */
        body.theme-dark .text-gray-700, body.theme-dark .text-gray-800 { color: #e5e7eb !important; } /* ëŒ“ê¸€ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
		body.theme-dark .bg-gray-200 { 
		    background-color: #374151 !important; /* ì–´ë‘ìš´ íšŒìƒ‰ ë°°ê²½ */
		    color: #e5e7eb !important;         /* ë°ì€ íšŒìƒ‰ ê¸€ì */
		    border: 1px solid #4b5563;         /* (ì„ íƒ) í…Œë‘ë¦¬ ì¶”ê°€ */
		}

		/* "ëª©ë¡ìœ¼ë¡œ" ë²„íŠ¼ í˜¸ë²„ ì‹œ (hover:bg-gray-300) ë‹¤í¬ëª¨ë“œ ëŒ€ì‘ */
		body.theme-dark .hover\:bg-gray-300:hover {
		    background-color: #4b5563 !important; /* í˜¸ë²„ ì‹œ ì¡°ê¸ˆ ë” ë°ê²Œ */
		}
		body.theme-dark .text-gray-900 {
		    color: #f9fafb !important; /* ê±°ì˜ í°ìƒ‰ì— ê°€ê¹Œìš´ ë°ì€ íšŒìƒ‰ */
		}
		
        
        body.theme-blue { background-color: #f7faf9; color: #5a7a72; }
        body.theme-blue header { background-color: #eaf5f2 !important; }
        body.theme-pink { background-color: #fef5f0; color: #b85d4a; }
        body.theme-pink header { background-color: #fce8df !important; }

        /* ìƒë‹¨ í—¤ë” ì»¨íŠ¸ë¡¤ */
        body.theme-light header select { background-color: #f3f4f6; color: #374151; border: 1px solid #d1d5db; }
        body.theme-light .logout-btn { background-color: #e5e7eb; color: #374151; }
        body.theme-light .logout-btn:hover { background-color: #d1d5db; }
        body.theme-light .mypage-btn { color: #6b7280; }
        body.theme-light .mypage-btn:hover { color: #3b82f6; }
        
        body.theme-dark header select { background-color: #374151; color: #e5e7eb; border: 1px solid #4b5563; }
        body.theme-dark .logout-btn { background-color: #374151; color: #e5e7eb; border: 1px solid #4b5563; }
        body.theme-dark .logout-btn:hover { background-color: #4b5563; }
        body.theme-dark .mypage-btn { color: #9ca3af; }
        body.theme-dark .mypage-btn:hover { color: #60a5fa; }

        body.theme-blue header select { background-color: #ffffff; color: #5a7a72; border: 1px solid #bce3d4; }
        body.theme-blue .logout-btn { background-color: #ffffff; color: #5a7a72; border: 1px solid #bce3d4; }
        body.theme-blue .logout-btn:hover { background-color: #d1fae5; }
        body.theme-blue .mypage-btn { color: #5a7a72; }
        body.theme-blue .mypage-btn:hover { color: #3e5c54; }

        body.theme-pink header select { background-color: #ffffff; color: #b85d4a; border: 1px solid #fed7aa; }
        body.theme-pink .logout-btn { background-color: #ffffff; color: #b85d4a; border: 1px solid #fecaca; }
        body.theme-pink .logout-btn:hover { background-color: #ffe4e6; }
        body.theme-pink .mypage-btn { color: #b85d4a; }
        body.theme-pink .mypage-btn:hover { color: #9c4232; }
    </style>
</head>
<body :class="'theme-' + currentTheme">
    <div id="app">
        <header class="bg-white shadow-sm sticky top-0 z-10 transition-colors duration-300">
            <div class="container mx-auto px-6 py-4 flex items-center justify-between">
                <div class="flex items-center cursor-pointer" @click="goToMain" style="margin-left: -60px;">
                    <!-- ë¡œê³  ê²½ë¡œëŠ” /assets/doran-logo2.pngë¥¼ ìœ ì§€í•©ë‹ˆë‹¤. -->
                    <img src="/assets/doran-logo2.png" alt="ë„ë€ ë¡œê³ " style="height: 49px; object-fit: contain;" onerror="this.style.display='none'; console.error('ì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨:', this.src);">
                    <span class="text-xs text-gray-600 ml-2 font-bold" style="font-size: 12px; white-space: nowrap; font-weight: 700; margin-top: 30px;">ê¸°ìˆ™ì‚¬ìƒë“¤ì„ ìœ„í•œ ì»¤ë®¤ë‹ˆí‹°</span>
                </div>
                <div class="flex items-center space-x-4">
                    <select v-model="currentTheme" @change="changeTheme(currentTheme)" 
                            class="p-1 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors cursor-pointer">
                        <option value="light">ğŸŒ ë¼ì´íŠ¸</option>
                        <option value="dark">ğŸŒ™ ë‹¤í¬</option>
                        <option value="blue">ğŸŒ¿ ë¯¼íŠ¸</option>
                        <option value="pink">ğŸŒ¸ ë²šê½ƒ</option>
                    </select>

                    <!-- ë¡œê·¸ì¸ ìƒíƒœ í‘œì‹œ -->
                    <div v-if="loggedInUser" class="flex items-center space-x-3">
                        <span class="mypage-btn cursor-default text-sm"><b>{{ loggedInUser }}</b>ë‹˜</span>
                        <button @click="goToMyPage" class="mypage-btn font-semibold transition mr-2 text-sm">
                            ë§ˆì´í˜ì´ì§€
                        </button>
                        <button @click="logout" class="logout-btn font-semibold px-4 py-2 rounded transition text-sm">ë¡œê·¸ì•„ì›ƒ</button>
                    </div>
                    <button v-else @click="goToLogin" class="text-white font-semibold px-4 py-2 rounded transition hover:opacity-90" style="background-color: #D66A58;">
                        ë¡œê·¸ì¸
                    </button>
                </div>
            </div>
        </header>

        <main class="container mx-auto p-4 md:p-6 pb-12">
            <!-- 1. ë¡œê·¸ì¸ ì•ˆ í•¨ -->
            <div v-if="!loggedInUser">
                <div class="bg-white p-10 rounded-xl shadow-md max-w-lg w-full mx-auto mt-10 text-center animate-fade-in-up">
                    <div class="text-6xl mb-4">ğŸšª</div>
                    <h2 class="text-2xl font-bold text-gray-800 mb-2">ë¡œê·¸ì¸ì´ í•„ìš”í•œ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.</h2>
                    <a href="login.html" class="w-full inline-block bg-blue-600 text-white text-lg font-bold py-3 rounded-lg hover:bg-blue-700 transition shadow-lg mt-4">
                        ë¡œê·¸ì¸ í•˜ëŸ¬ ê°€ê¸°
                    </a>
                </div>
            </div>

            <!-- 2. ë¡œë”© ì¤‘ -->
            <div v-if="loggedInUser && isLoading" class="text-center py-20">
                <p class="text-gray-500 text-lg">ê¸€ ë‚´ìš©ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...</p>
            </div>

            <!-- 3. ìƒì„¸ ë‚´ìš© (ë¡œë”© ë, ë°ì´í„° ìˆìŒ) -->
            <div v-if="loggedInUser && !isLoading && post" class="bg-white rounded-lg shadow-md border border-gray-200 overflow-hidden animate-fade-in-up mb-6">
                <div class="p-6 border-b border-gray-200 flex justify-between items-start">
                    <div>
                        <h1 class="text-3xl font-bold text-gray-900 mb-3">{{ post.title }}</h1>
                        <div class="flex items-center space-x-4 text-sm text-gray-500">
                            <span>ì‘ì„±ì: <b class="text-gray-700">{{ post.member ? post.member.username : 'ìµëª…' }}</b></span>
                            <span>|</span>
                            <span>ì‘ì„±ì¼: {{ formatDate(post.createdAt) }}</span>
                        </div>
                    </div>
                    
                    <!-- ì¢‹ì•„ìš” ë²„íŠ¼ -->
                    <button @click="toggleLike" 
                            :class="isLiked ? 'bg-red-100 text-red-600 border-red-200' : 'bg-gray-100 text-gray-500 border-gray-200'"
                            class="flex flex-col items-center px-4 py-2 rounded-lg border hover:bg-red-50 transition duration-200 group">
                        <span class="text-2xl group-hover:scale-110 transition transform">{{ isLiked ? 'â¤ï¸' : 'ğŸ¤' }}</span>
                        <span class="text-xs font-bold mt-1">{{ post.likeCount }}</span>
                    </button>
                </div>
                
                <div class="p-6 min-h-[200px]">
                    <div class="ql-container ql-snow">
                        <div class="ql-editor" v-html="post.content"></div>
                    </div>
                </div>
                
                <div class="p-4 bg-gray-50 border-t border-gray-200 flex justify-between">
                    <a :href="'board.html?category=' + post.category" class="bg-gray-200 text-gray-700 font-semibold px-5 py-2 rounded-lg hover:bg-gray-300 transition">ëª©ë¡ìœ¼ë¡œ</a>
                    <div>
                        <button class="bg-red-500 text-white font-semibold px-5 py-2 rounded-lg hover:bg-red-600 transition">ì‚­ì œ</button>
                    </div>
                </div>
            </div>

            <!-- 4. ì—ëŸ¬ ë˜ëŠ” ê¸€ ì—†ìŒ -->
            <div v-if="loggedInUser && !isLoading && !post" class="text-center py-20">
                <p class="text-red-500 text-xl mb-4">ê²Œì‹œê¸€ì„ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.</p>
                <p class="text-gray-500">ì‚­ì œë˜ì—ˆê±°ë‚˜ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê¸€ì…ë‹ˆë‹¤.</p>
                <a href="main.html" class="text-blue-600 hover:underline mt-4 inline-block">ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
            </div>

            <!-- ëŒ“ê¸€ ì˜ì—­ -->
            <div v-if="loggedInUser && post" class="bg-white rounded-lg shadow-md border border-gray-200 p-6 animate-fade-in-up">
                <h3 class="text-xl font-bold text-gray-800 mb-4">ëŒ“ê¸€ ({{ comments.length }})</h3>
                
                <div class="flex space-x-2 mb-6">
                    <input v-model="newComment" @keyup.enter="addComment(null)" type="text" placeholder="ëŒ“ê¸€ì„ ì…ë ¥í•˜ì„¸ìš”..." 
                           class="flex-grow p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <button @click="addComment(null)" class="text-white px-6 py-2 rounded-lg hover:opacity-90 font-semibold" style="background-color: #D66A58;">ë“±ë¡</button>
                </div>

                <!-- â˜…â˜…â˜… [ìˆ˜ì •] ëŒ“ê¸€ ì‚­ì œ ì´ë²¤íŠ¸ ì²˜ë¦¬ ì¶”ê°€ â˜…â˜…â˜… -->
                <ul class="space-y-4">
                    <comment-item v-for="comment in comments" 
                                  :key="comment.id" 
                                  :comment="comment" 
                                  @reply="handleReply"
                                  @delete-comment="deleteComment">
                    </comment-item>
                </ul>
            </div>
        </main>
    </div>

    <script>
        if (typeof Vue === 'undefined') {
            // alertëŠ” ì‚¬ìš© ê¸ˆì§€
            console.error("Vue.js ë¡œë“œ ì‹¤íŒ¨. ì¸í„°ë„· ì—°ê²°ì„ í™•ì¸í•˜ì„¸ìš”."); 
        }
        const { createApp } = Vue;

        // â˜…â˜…â˜… [ìˆ˜ì •] ì¬ê·€ ëŒ“ê¸€ ì»´í¬ë„ŒíŠ¸ (ì‚­ì œ ë²„íŠ¼ ì¶”ê°€) â˜…â˜…â˜…
        const CommentItem = {
            props: ['comment'],
            // í˜„ì¬ ë¡œê·¸ì¸ëœ ì‚¬ìš©ìì˜ IDë¥¼ ê°€ì ¸ì™€ì„œ ì‚­ì œ ë²„íŠ¼ í‘œì‹œ ì—¬ë¶€ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.
            setup(props, { emit }) {
                const loggedInUser = localStorage.getItem('loggedInUser');
                const isMyComment = props.comment.authorName === loggedInUser;
                const showReplyForm = Vue.ref(false);
                const replyContent = Vue.ref('');

                const formatDate = (dateString) => {
                    if (!dateString) return '';
                    return new Date(dateString).toLocaleString('ko-KR', { month: 'numeric', day: 'numeric', hour: '2-digit', minute: '2-digit' });
                };

                const submitReply = () => {
                    if(!replyContent.value.trim()) return;
                    emit('reply', { parentId: props.comment.id, content: replyContent.value });
                    replyContent.value = '';
                    showReplyForm.value = false;
                };

                const handleDelete = () => {
                    // ìƒìœ„ ì»´í¬ë„ŒíŠ¸ë¡œ ì‚­ì œ ì´ë²¤íŠ¸ ë°œìƒ
                    if (confirm("ì •ë§ë¡œ ì´ ëŒ“ê¸€ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
                         emit('delete-comment', props.comment.id);
                    }
                };

                return {
                    isMyComment,
                    showReplyForm,
                    replyContent,
                    formatDate,
                    submitReply,
                    handleDelete
                }
            },
            template: `
                <li class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                    <div class="flex justify-between items-start">
                        <div>
                            <span class="font-bold text-gray-700 mr-2">{{ comment.authorName }}</span>
                            <span class="text-xs text-gray-400">{{ formatDate(comment.createdAt) }}</span>
                            <p class="mt-1 text-gray-800">{{ comment.content }}</p>
                        </div>
                        <div class="flex space-x-2">
                            <button v-if="isMyComment" @click="handleDelete" class="text-xs text-red-500 hover:underline p-1 -mt-1">ì‚­ì œ</button>
                            <button @click="showReplyForm = !showReplyForm" class="text-sm text-blue-500 hover:underline p-1 -mt-1">ë‹µê¸€</button>
                        </div>
                    </div>
                    <!-- ë‹µê¸€ ì‘ì„± í¼ -->
                    <div v-if="showReplyForm" class="mt-3 flex space-x-2 ml-4">
                        <input v-model="replyContent" @keyup.enter="submitReply" type="text" placeholder="ë‹µê¸€ ì…ë ¥..." 
                               class="flex-grow p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm">
                        <button @click="submitReply" class="text-white px-3 py-1 rounded text-sm hover:opacity-90" style="background-color: #D66A58;">ë“±ë¡</button>
                    </div>
                    <!-- ìì‹ ëŒ“ê¸€ (ëŒ€ëŒ“ê¸€) ì¬ê·€ ë Œë”ë§ -->
                    <ul v-if="comment.children && comment.children.length > 0" class="mt-3 ml-6 space-y-3 border-l-2 border-gray-200 pl-3">
                        <comment-item v-for="child in comment.children" 
                                      :key="child.id" 
                                      :comment="child" 
                                      @reply="$emit('reply', $event)"
                                      @delete-comment="$emit('delete-comment', $event)"> <!-- ì‚­ì œ ì´ë²¤íŠ¸ ì¬ê·€ ì „ë‹¬ -->
                        </comment-item>
                    </ul>
                </li>
            `,
            // setup() í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ methodsëŠ” í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
        };

        const app = createApp({
            data() {
                return {
                    loggedInUser: localStorage.getItem('loggedInUser') || null,
                    post: null,
                    comments: [],
                    postId: null,
                    newComment: '',
                    isLiked: false,
                    isLoading: true,
                    currentTheme: 'light'
                }
            },
            mounted() {
                const savedTheme = localStorage.getItem('userTheme') || 'light';
                this.currentTheme = savedTheme;
                document.body.className = `theme-${savedTheme}`;
                
                const params = new URLSearchParams(window.location.search);
                this.postId = params.get('id');
                
                if (this.loggedInUser && this.postId) {
                    this.fetchPostDetail();
                    this.fetchComments();
                } else {
                    this.isLoading = false;
                }
            },
            methods: {
                // ... (ê¸°ì¡´ ë©”ì„œë“œ ìœ ì§€)
                async fetchPostDetail() {
                    this.isLoading = true;
                    try {
                        // [í¬íŠ¸ í™•ì¸] API í¬íŠ¸ 8081 ì‚¬ìš©
                        const response = await axios.get(`http://localhost:8081/api/posts/${this.postId}?username=${this.loggedInUser}`);
                        if (response.data.post) {
                            this.post = response.data.post; 
                            this.isLiked = response.data.liked;
                        } else {
                            this.post = response.data;
                            this.isLiked = false;
                        }
                    } catch (e) { 
                        this.post = null;
                    } finally {
                        this.isLoading = false;
                    }
                },
                async toggleLike() {
                    try {
                        // [í¬íŠ¸ í™•ì¸] API í¬íŠ¸ 8081 ì‚¬ìš©
                        const response = await axios.post(`http://localhost:8081/api/posts/${this.postId}/like`, {
                            username: this.loggedInUser
                        });
                        this.isLiked = response.data;
                        if (this.isLiked) this.post.likeCount++;
                        else this.post.likeCount--;
                    } catch (e) {
                        this.handleError(e);
                    }
                },
                async fetchComments() {
                    try {
                        // [í¬íŠ¸ í™•ì¸] API í¬íŠ¸ 8081 ì‚¬ìš©
                        const response = await axios.get(`http://localhost:8081/api/comments/${this.postId}`);
                        this.comments = response.data;
                    } catch (e) { console.error(e); }
                },
                async addComment(parentId, content = null) {
                    const text = content || this.newComment;
                    if (!text.trim()) { /* alert("ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”"); */ console.log("ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”"); return; }

                    try {
                        // [í¬íŠ¸ í™•ì¸] API í¬íŠ¸ 8081 ì‚¬ìš©
                        await axios.post(`http://localhost:8081/api/comments/${this.postId}`, {
                            content: text,
                            username: this.loggedInUser,
                            parentId: parentId
                        });
                        this.newComment = '';
                        await this.fetchComments();
                    } catch (e) {
                        this.handleError(e);
                    }
                },
                // â˜…â˜…â˜… [ì¶”ê°€] ëŒ“ê¸€ ì‚­ì œ ë¡œì§ â˜…â˜…â˜…
                async deleteComment(commentId) {
                    try {
                        // [í¬íŠ¸ í™•ì¸] API í¬íŠ¸ 8081 ì‚¬ìš©
                        await axios.delete(`http://localhost:8081/api/comments/${commentId}`, {
                            data: { // DELETE ìš”ì²­ì— bodyë¥¼ ë³´ë‚´ê¸° ìœ„í•´ data ì†ì„± ì‚¬ìš©
                                username: this.loggedInUser
                            }
                        });
                        await this.fetchComments(); // ëª©ë¡ ìƒˆë¡œê³ ì¹¨
                    } catch (e) {
                        this.handleError(e);
                    }
                },
                handleReply(payload) {
                    this.addComment(payload.parentId, payload.content);
                },
                // ... (ë‚˜ë¨¸ì§€ ë©”ì„œë“œ ìœ ì§€)
                async changeTheme(theme) {
                    this.currentTheme = theme;
                    document.body.className = `theme-${theme}`; 
                    localStorage.setItem('userTheme', theme);
                    
                    if (this.loggedInUser) {
                        try {
                            // [í¬íŠ¸ í™•ì¸] API í¬íŠ¸ 8081 ì‚¬ìš©
                            await axios.post('http://localhost:8081/api/theme', {
                                username: this.loggedInUser,
                                theme: theme
                            });
                        } catch (e) { console.warn("í…Œë§ˆ ì €ì¥ ì‹¤íŒ¨:", e); }
                    }
                },
                goToMain() {
                    try { window.location.href = '/main.html'; } catch(e) {}
                },
                goToMyPage() {
                    try { window.location.href = '/mypage.html'; } catch(e) {}
                },
                goToLogin() {
                    try { window.location.href = '/login.html'; } catch(e) {}
                },
                logout() {
                    localStorage.removeItem('loggedInUser');
                    localStorage.removeItem('userSchool');
                    window.location.href = 'main.html';
                },
                formatDate(date) {
                    return new Date(date).toLocaleString();
                },
                handleError(e) {
                    // alertëŠ” ì‚¬ìš© ê¸ˆì§€
                    let errorMessage = "ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.";
                    if (e.response && e.response.data) {
                        errorMessage = e.response.data;
                        if (typeof e.response.data === 'string' && (e.response.data.includes("ì‚¬ìš©ì") || e.response.data.includes("ë¡œê·¸ì¸") || e.response.data.includes("ê¶Œí•œ"))) {
                            console.error(errorMessage + ". ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬í•©ë‹ˆë‹¤.");
                            this.logout();
                        } else {
                             console.error(errorMessage);
                        }
                    } else {
                        console.error("ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜:", e);
                    }
                    // ì„ì‹œ ë©”ì‹œì§€ ë°•ìŠ¤ êµ¬í˜„: ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì¤„ ìˆ˜ ìˆë„ë¡ (alert ëŒ€ì²´)
                    // ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸ë¡œ ëŒ€ì²´í•´ì•¼ í•©ë‹ˆë‹¤.
                    if (errorMessage) {
                        const messageBox = document.createElement('div');
                        messageBox.className = 'fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-red-600 text-white p-4 rounded-lg shadow-xl z-50';
                        messageBox.textContent = errorMessage;
                        document.body.appendChild(messageBox);
                        setTimeout(() => document.body.removeChild(messageBox), 3000);
                    }
                }
            }
        });
        app.component('comment-item', CommentItem);
        app.mount('#app');
    </script>
</body>
</html>